<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Chat - Market Terminal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a;
            color: #f1f5f9;
        }
        .font-mono {
            font-family: 'JetBrains Mono', monospace;
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: #1e293b;
        }
        ::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 3px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #64748b;
        }

        /* Message Animation */
        .message-enter {
            animation: messageSlide 0.3s ease-out forwards;
        }
        @keyframes messageSlide {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Typing Indicator */
        .typing-dot {
            animation: typingBounce 1.4s infinite ease-in-out both;
        }
        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }
        @keyframes typingBounce {
            0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }

        /* Suggestion Button Hover */
        .suggestion-btn {
            transition: all 0.2s ease;
        }
        .suggestion-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(56, 189, 248, 0.2);
        }

        /* Pulse animation for online status */
        @keyframes pulse-ring {
            0% { transform: scale(0.8); opacity: 1; }
            100% { transform: scale(2); opacity: 0; }
        }
        .pulse-ring::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 50%;
            background: #10b981;
            animation: pulse-ring 1.5s cubic-bezier(0.215, 0.61, 0.355, 1) infinite;
        }
    </style>
</head>
<body class="antialiased min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-slate-900/90 backdrop-blur-xl border-b border-slate-800 sticky top-0 z-50">
        <div class="max-w-5xl mx-auto px-4 h-16 flex items-center justify-between">
            <div class="flex items-center gap-4">
                <a href="/" class="flex items-center gap-2 group">
                    <div class="w-8 h-8 flex items-center justify-center bg-gradient-to-tr from-sky-500 to-emerald-500 rounded-lg">
                        <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path></svg>
                    </div>
                    <span class="text-lg font-bold text-white">MARKET<span class="text-sky-400">TERMINAL</span></span>
                </a>
                <span class="text-slate-600">|</span>
                <span class="text-slate-400 text-sm font-medium">AI Support Chat</span>
            </div>
            
            <div class="flex items-center gap-4">
                <!-- Language Selector -->
                <select id="language-select" class="bg-slate-800 border border-slate-700 rounded-lg px-3 py-1.5 text-sm text-slate-300 focus:outline-none focus:border-sky-500">
                    <option value="en">üá∫üá∏ English</option>
                    <option value="es">üá™üá∏ Espa√±ol</option>
                    <option value="hi">üáÆüá≥ ‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
                    <option value="fr">üá´üá∑ Fran√ßais</option>
                </select>
                
                <a href="/" class="text-slate-400 hover:text-white text-sm flex items-center gap-1">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
                    Back to Home
                </a>
            </div>
        </div>
    </header>

    <!-- Main Chat Area -->
    <main class="flex-1 flex flex-col max-w-5xl w-full mx-auto">
        
        <!-- Chat Messages Container -->
        <div id="chat-container" class="flex-1 overflow-y-auto p-4 space-y-4">
            
            <!-- Welcome Message -->
            <div class="flex gap-3 message-enter">
                <div class="w-10 h-10 rounded-full bg-gradient-to-br from-sky-500 to-emerald-500 flex items-center justify-center flex-shrink-0">
                    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                </div>
                <div class="flex-1">
                    <div class="flex items-center gap-2 mb-1">
                        <span class="font-semibold text-white">Market Terminal AI</span>
                        <div class="relative w-2 h-2">
                            <div class="absolute inset-0 rounded-full bg-emerald-500"></div>
                            <div class="pulse-ring absolute inset-0 rounded-full"></div>
                        </div>
                        <span class="text-xs text-slate-500">Online</span>
                    </div>
                    <div class="bg-slate-800 rounded-2xl rounded-tl-md px-4 py-3 text-slate-200 max-w-2xl">
                        <p class="mb-3" id="welcome-text">üëã Welcome to Market Terminal Support! I'm here to help you with:</p>
                        <ul class="space-y-1 text-sm text-slate-400 mb-3">
                            <li>‚Ä¢ Installation & setup questions</li>
                            <li>‚Ä¢ Feature explanations</li>
                            <li>‚Ä¢ Troubleshooting issues</li>
                            <li>‚Ä¢ Licensing & safety information</li>
                        </ul>
                        <p class="text-sm text-slate-400" id="ask-text">How can I help you today?</p>
                    </div>
                </div>
            </div>

        </div>

        <!-- Quick Suggestions -->
        <div id="suggestions" class="px-4 pb-2">
            <div class="flex flex-wrap gap-2 justify-center">
                <button onclick="askQuestion('How do I install Market Terminal?')" class="suggestion-btn px-4 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-700 rounded-full text-sm text-slate-300">
                    üì• Installation Guide
                </button>
                <button onclick="askQuestion('What features does Market Terminal have?')" class="suggestion-btn px-4 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-700 rounded-full text-sm text-slate-300">
                    ‚ú® Features
                </button>
                <button onclick="askQuestion('Is Market Terminal safe to use?')" class="suggestion-btn px-4 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-700 rounded-full text-sm text-slate-300">
                    üõ°Ô∏è Safety & Security
                </button>
                <button onclick="askQuestion('Can I modify and redistribute Market Terminal?')" class="suggestion-btn px-4 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-700 rounded-full text-sm text-slate-300">
                    üìú Licensing
                </button>
            </div>
        </div>

        <!-- Input Area -->
        <div class="p-4 bg-slate-900/50 border-t border-slate-800">
            <form onsubmit="handleSubmit(event)" class="max-w-3xl mx-auto">
                <div class="flex gap-3">
                    <div class="flex-1 relative">
                        <input 
                            type="text" 
                            id="chat-input" 
                            placeholder="Type your question..." 
                            class="w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 pr-12 text-white placeholder-slate-500 focus:outline-none focus:border-sky-500 focus:ring-1 focus:ring-sky-500 transition"
                            autocomplete="off"
                        >
                        <button type="submit" class="absolute right-2 top-1/2 -translate-y-1/2 w-8 h-8 bg-sky-500 hover:bg-sky-400 rounded-lg flex items-center justify-center text-slate-900 transition">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg>
                        </button>
                    </div>
                </div>
                <p class="text-center text-xs text-slate-600 mt-2">Press Enter to send ‚Ä¢ AI responses are automated</p>
            </form>
        </div>
    </main>

    <script>
        // Language translations
        const translations = {
            en: {
                welcome: "üëã Welcome to Market Terminal Support! I'm here to help you with:",
                ask: "How can I help you today?",
                placeholder: "Type your question...",
                thinking: "Thinking...",
                responses: {
                    install: "üì• **Installation Guide**\n\n1. **Download** the installer from our homepage\n2. **Run** the .exe file (Windows) or use Python directly\n3. **Install dependencies**: `pip install pandas yfinance matplotlib supabase`\n4. **Launch**: Run `python app.py`\n\nNeed help with a specific step?",
                    features: "‚ú® **Key Features**\n\n‚Ä¢ **Real-Time Data** - Live market feeds via YFinance\n‚Ä¢ **Portfolio Tracking** - Monitor your holdings and P&L\n‚Ä¢ **Cloud Sync** - Secure backup with Supabase\n‚Ä¢ **Trial Mode** - Practice with simulated stocks\n‚Ä¢ **CSV Export** - Export trade history for taxes\n\nWant details on any specific feature?",
                    safety: "üõ°Ô∏è **Safety & Security**\n\nMarket Terminal is 100% safe:\n\n‚Ä¢ **Open Source** - All code is publicly viewable\n‚Ä¢ **Trusted Libraries** - Uses only pandas, yfinance, matplotlib, supabase\n‚Ä¢ **No Malware** - Antivirus flags are false positives (common for non-major publishers)\n‚Ä¢ **Local Data** - Your data stays on your machine\n\nYou can inspect every line of code yourself!",
                    license: "üìú **Licensing Information**\n\n‚ö†Ô∏è **Important**: Market Terminal is for **personal use only**.\n\n‚ùå You may NOT:\n‚Ä¢ Modify and redistribute\n‚Ä¢ Sell or resell\n‚Ä¢ Use commercially\n\n‚úÖ You MAY:\n‚Ä¢ Use for personal trading/analysis\n‚Ä¢ View source code for transparency\n\nAll rights reserved by the original author.",
                    default: "I'm not sure about that specific question. Try asking about:\n\n‚Ä¢ Installation & setup\n‚Ä¢ Features & capabilities\n‚Ä¢ Safety & security\n‚Ä¢ Licensing & usage rights\n\nOr click one of the suggestion buttons above!"
                }
            },
            es: {
                welcome: "üëã ¬°Bienvenido al Soporte de Market Terminal! Estoy aqu√≠ para ayudarte con:",
                ask: "¬øC√≥mo puedo ayudarte hoy?",
                placeholder: "Escribe tu pregunta...",
                thinking: "Pensando...",
                responses: {
                    install: "üì• **Gu√≠a de Instalaci√≥n**\n\n1. **Descarga** el instalador desde nuestra p√°gina\n2. **Ejecuta** el archivo .exe (Windows) o usa Python directamente\n3. **Instala dependencias**: `pip install pandas yfinance matplotlib supabase`\n4. **Inicia**: Ejecuta `python app.py`\n\n¬øNecesitas ayuda con alg√∫n paso espec√≠fico?",
                    features: "‚ú® **Caracter√≠sticas Principales**\n\n‚Ä¢ **Datos en Tiempo Real** - Feeds de mercado via YFinance\n‚Ä¢ **Seguimiento de Portafolio** - Monitorea tus activos y P&L\n‚Ä¢ **Sincronizaci√≥n en la Nube** - Respaldo seguro con Supabase\n‚Ä¢ **Modo Prueba** - Practica con acciones simuladas\n‚Ä¢ **Exportar CSV** - Exporta historial para impuestos\n\n¬øQuieres detalles sobre alguna caracter√≠stica?",
                    safety: "üõ°Ô∏è **Seguridad**\n\nMarket Terminal es 100% seguro:\n\n‚Ä¢ **C√≥digo Abierto** - Todo el c√≥digo es p√∫blico\n‚Ä¢ **Bibliotecas Confiables** - Solo usa pandas, yfinance, matplotlib, supabase\n‚Ä¢ **Sin Malware** - Las alertas de antivirus son falsos positivos\n‚Ä¢ **Datos Locales** - Tus datos permanecen en tu m√°quina\n\n¬°Puedes inspeccionar cada l√≠nea de c√≥digo!",
                    license: "üìú **Informaci√≥n de Licencia**\n\n‚ö†Ô∏è **Importante**: Market Terminal es solo para **uso personal**.\n\n‚ùå NO puedes:\n‚Ä¢ Modificar y redistribuir\n‚Ä¢ Vender o revender\n‚Ä¢ Usar comercialmente\n\n‚úÖ S√ç puedes:\n‚Ä¢ Usar para trading/an√°lisis personal\n‚Ä¢ Ver c√≥digo fuente para transparencia",
                    default: "No estoy seguro sobre esa pregunta. Intenta preguntar sobre:\n\n‚Ä¢ Instalaci√≥n y configuraci√≥n\n‚Ä¢ Caracter√≠sticas y capacidades\n‚Ä¢ Seguridad\n‚Ä¢ Licencias y derechos de uso"
                }
            },
            hi: {
                welcome: "üëã Market Terminal ‡§∏‡§™‡•ã‡§∞‡•ç‡§ü ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à! ‡§Æ‡•à‡§Ç ‡§Ø‡§π‡§æ‡§Å ‡§Ü‡§™‡§ï‡•Ä ‡§Æ‡§¶‡§¶ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§π‡•Ç‡§Å:",
                ask: "‡§Ü‡§ú ‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡•Ä ‡§ï‡•à‡§∏‡•á ‡§Æ‡§¶‡§¶ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•Ç‡§Å?",
                placeholder: "‡§Ö‡§™‡§®‡§æ ‡§∏‡§µ‡§æ‡§≤ ‡§≤‡§ø‡§ñ‡•á‡§Ç...",
                thinking: "‡§∏‡•ã‡§ö ‡§∞‡§π‡§æ ‡§π‡•Ç‡§Å...",
                responses: {
                    install: "üì• **‡§á‡§Ç‡§∏‡•ç‡§ü‡•â‡§≤‡•á‡§∂‡§® ‡§ó‡§æ‡§á‡§°**\n\n1. ‡§π‡§Æ‡§æ‡§∞‡•á ‡§π‡•ã‡§Æ‡§™‡•á‡§ú ‡§∏‡•á ‡§á‡§Ç‡§∏‡•ç‡§ü‡•â‡§≤‡§∞ **‡§°‡§æ‡§â‡§®‡§≤‡•ã‡§°** ‡§ï‡§∞‡•á‡§Ç\n2. .exe ‡§´‡§º‡§æ‡§á‡§≤ **‡§ö‡§≤‡§æ‡§è‡§Ç** (Windows) ‡§Ø‡§æ ‡§∏‡•Ä‡§ß‡•á Python ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç\n3. **Dependencies ‡§á‡§Ç‡§∏‡•ç‡§ü‡•â‡§≤ ‡§ï‡§∞‡•á‡§Ç**: `pip install pandas yfinance matplotlib supabase`\n4. **‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç**: `python app.py` ‡§ö‡§≤‡§æ‡§è‡§Ç\n\n‡§ï‡§ø‡§∏‡•Ä ‡§µ‡§ø‡§∂‡•á‡§∑ ‡§ö‡§∞‡§£ ‡§Æ‡•á‡§Ç ‡§Æ‡§¶‡§¶ ‡§ö‡§æ‡§π‡§ø‡§è?",
                    features: "‚ú® **‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§µ‡§ø‡§∂‡•á‡§∑‡§§‡§æ‡§è‡§Ç**\n\n‚Ä¢ **‡§∞‡§ø‡§Ø‡§≤-‡§ü‡§æ‡§á‡§Æ ‡§°‡•á‡§ü‡§æ** - YFinance ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á ‡§≤‡§æ‡§á‡§µ ‡§Æ‡§æ‡§∞‡•ç‡§ï‡•á‡§ü ‡§´‡•Ä‡§°\n‚Ä¢ **‡§™‡•ã‡§∞‡•ç‡§ü‡§´‡•ã‡§≤‡§ø‡§Ø‡•ã ‡§ü‡•ç‡§∞‡•à‡§ï‡§ø‡§Ç‡§ó** - ‡§Ö‡§™‡§®‡•Ä ‡§π‡•ã‡§≤‡•ç‡§°‡§ø‡§Ç‡§ó‡•ç‡§∏ ‡§î‡§∞ P&L ‡§Æ‡•â‡§®‡§ø‡§ü‡§∞ ‡§ï‡§∞‡•á‡§Ç\n‚Ä¢ **‡§ï‡•ç‡§≤‡§æ‡§â‡§° ‡§∏‡§ø‡§Ç‡§ï** - Supabase ‡§ï‡•á ‡§∏‡§æ‡§• ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§¨‡•à‡§ï‡§Ö‡§™\n‚Ä¢ **‡§ü‡•ç‡§∞‡§æ‡§Ø‡§≤ ‡§Æ‡•ã‡§°** - ‡§∏‡§ø‡§Æ‡•ç‡§Ø‡•Å‡§≤‡•á‡§ü‡•á‡§° ‡§∏‡•ç‡§ü‡•â‡§ï‡•ç‡§∏ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§Ö‡§≠‡•ç‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç\n‚Ä¢ **CSV ‡§è‡§ï‡•ç‡§∏‡§™‡•ã‡§∞‡•ç‡§ü** - ‡§ü‡•à‡§ï‡•ç‡§∏ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ü‡•ç‡§∞‡•á‡§° ‡§π‡§ø‡§∏‡•ç‡§ü‡•ç‡§∞‡•Ä ‡§è‡§ï‡•ç‡§∏‡§™‡•ã‡§∞‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç",
                    safety: "üõ°Ô∏è **‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ**\n\nMarket Terminal 100% ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§π‡•à:\n\n‚Ä¢ **‡§ì‡§™‡§® ‡§∏‡•ã‡§∞‡•ç‡§∏** - ‡§∏‡§≠‡•Ä ‡§ï‡•ã‡§° ‡§∏‡§æ‡§∞‡•ç‡§µ‡§ú‡§®‡§ø‡§ï ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§¶‡•á‡§ñ‡§®‡•á ‡§Ø‡•ã‡§ó‡•ç‡§Ø\n‚Ä¢ **‡§µ‡§ø‡§∂‡•ç‡§µ‡§∏‡§®‡•Ä‡§Ø ‡§≤‡§æ‡§á‡§¨‡•ç‡§∞‡•á‡§∞‡•Ä** - ‡§ï‡•á‡§µ‡§≤ pandas, yfinance, matplotlib, supabase\n‚Ä¢ **‡§ï‡•ã‡§à ‡§Æ‡•à‡§≤‡§µ‡•á‡§Ø‡§∞ ‡§®‡§π‡•Ä‡§Ç** - ‡§è‡§Ç‡§ü‡•Ä‡§µ‡§æ‡§Ø‡§∞‡§∏ ‡§Ö‡§≤‡§∞‡•ç‡§ü ‡§´‡•â‡§≤‡•ç‡§∏ ‡§™‡•â‡§ú‡§ø‡§ü‡§ø‡§µ ‡§π‡•à‡§Ç\n‚Ä¢ **‡§≤‡•ã‡§ï‡§≤ ‡§°‡•á‡§ü‡§æ** - ‡§Ü‡§™‡§ï‡§æ ‡§°‡•á‡§ü‡§æ ‡§Ü‡§™‡§ï‡•Ä ‡§Æ‡§∂‡•Ä‡§® ‡§™‡§∞ ‡§∞‡§π‡§§‡§æ ‡§π‡•à",
                    license: "üìú **‡§≤‡§æ‡§á‡§∏‡•á‡§Ç‡§∏ ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä**\n\n‚ö†Ô∏è **‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£**: Market Terminal ‡§ï‡•á‡§µ‡§≤ **‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø‡§ó‡§§ ‡§â‡§™‡§Ø‡•ã‡§ó** ‡§ï‡•á ‡§≤‡§ø‡§è ‡§π‡•à‡•§\n\n‚ùå ‡§Ü‡§™ ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á:\n‚Ä¢ ‡§∏‡§Ç‡§∂‡•ã‡§ß‡§ø‡§§ ‡§î‡§∞ ‡§™‡•Å‡§®‡§∞‡•ç‡§µ‡§ø‡§§‡§∞‡§ø‡§§\n‚Ä¢ ‡§¨‡•á‡§ö‡§®‡§æ ‡§Ø‡§æ ‡§™‡•Å‡§®‡§∞‡•ç‡§µ‡§ø‡§ï‡•ç‡§∞‡§Ø\n‚Ä¢ ‡§µ‡•ç‡§Ø‡§æ‡§µ‡§∏‡§æ‡§Ø‡§ø‡§ï ‡§â‡§™‡§Ø‡•ã‡§ó\n\n‚úÖ ‡§Ü‡§™ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç:\n‚Ä¢ ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø‡§ó‡§§ ‡§ü‡•ç‡§∞‡•á‡§°‡§ø‡§Ç‡§ó/‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§â‡§™‡§Ø‡•ã‡§ó\n‚Ä¢ ‡§™‡§æ‡§∞‡§¶‡§∞‡•ç‡§∂‡§ø‡§§‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡•ã‡§∞‡•ç‡§∏ ‡§ï‡•ã‡§° ‡§¶‡•á‡§ñ‡•á‡§Ç",
                    default: "‡§Æ‡•Å‡§ù‡•á ‡§â‡§∏ ‡§µ‡§ø‡§∂‡•á‡§∑ ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§ ‡§á‡§∏‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§™‡•Ç‡§õ‡§®‡•á ‡§ï‡§æ ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç:\n\n‚Ä¢ ‡§á‡§Ç‡§∏‡•ç‡§ü‡•â‡§≤‡•á‡§∂‡§® ‡§î‡§∞ ‡§∏‡•á‡§ü‡§Ö‡§™\n‚Ä¢ ‡§µ‡§ø‡§∂‡•á‡§∑‡§§‡§æ‡§è‡§Ç ‡§î‡§∞ ‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ‡§è‡§Ç\n‚Ä¢ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ\n‚Ä¢ ‡§≤‡§æ‡§á‡§∏‡•á‡§Ç‡§∏‡§ø‡§Ç‡§ó ‡§î‡§∞ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞"
                }
            },
            fr: {
                welcome: "üëã Bienvenue au Support Market Terminal! Je suis l√† pour vous aider avec:",
                ask: "Comment puis-je vous aider aujourd'hui?",
                placeholder: "Tapez votre question...",
                thinking: "R√©flexion...",
                responses: {
                    install: "üì• **Guide d'Installation**\n\n1. **T√©l√©chargez** l'installateur depuis notre page d'accueil\n2. **Ex√©cutez** le fichier .exe (Windows) ou utilisez Python directement\n3. **Installez les d√©pendances**: `pip install pandas yfinance matplotlib supabase`\n4. **Lancez**: Ex√©cutez `python app.py`\n\nBesoin d'aide pour une √©tape sp√©cifique?",
                    features: "‚ú® **Fonctionnalit√©s Cl√©s**\n\n‚Ä¢ **Donn√©es en Temps R√©el** - Flux de march√© via YFinance\n‚Ä¢ **Suivi de Portefeuille** - Surveillez vos avoirs et P&L\n‚Ä¢ **Sync Cloud** - Sauvegarde s√©curis√©e avec Supabase\n‚Ä¢ **Mode Essai** - Pratiquez avec des actions simul√©es\n‚Ä¢ **Export CSV** - Exportez l'historique pour les imp√¥ts",
                    safety: "üõ°Ô∏è **S√©curit√©**\n\nMarket Terminal est 100% s√ªr:\n\n‚Ä¢ **Open Source** - Tout le code est public\n‚Ä¢ **Biblioth√®ques Fiables** - Utilise uniquement pandas, yfinance, matplotlib, supabase\n‚Ä¢ **Pas de Malware** - Les alertes antivirus sont des faux positifs\n‚Ä¢ **Donn√©es Locales** - Vos donn√©es restent sur votre machine",
                    license: "üìú **Informations de Licence**\n\n‚ö†Ô∏è **Important**: Market Terminal est pour **usage personnel uniquement**.\n\n‚ùå Vous ne pouvez PAS:\n‚Ä¢ Modifier et redistribuer\n‚Ä¢ Vendre ou revendre\n‚Ä¢ Utiliser commercialement\n\n‚úÖ Vous POUVEZ:\n‚Ä¢ Utiliser pour trading/analyse personnel\n‚Ä¢ Voir le code source pour transparence",
                    default: "Je ne suis pas s√ªr de cette question. Essayez de demander:\n\n‚Ä¢ Installation et configuration\n‚Ä¢ Fonctionnalit√©s et capacit√©s\n‚Ä¢ S√©curit√©\n‚Ä¢ Licences et droits d'utilisation"
                }
            }
        };

        let currentLang = 'en';

        // Language selector
        document.getElementById('language-select').addEventListener('change', function(e) {
            currentLang = e.target.value;
            updateUILanguage();
        });

        function updateUILanguage() {
            const t = translations[currentLang];
            document.getElementById('welcome-text').textContent = t.welcome;
            document.getElementById('ask-text').textContent = t.ask;
            document.getElementById('chat-input').placeholder = t.placeholder;
        }

        function handleSubmit(e) {
            e.preventDefault();
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            if (!message) return;
            
            askQuestion(message);
            input.value = '';
        }

        function askQuestion(question) {
            const container = document.getElementById('chat-container');
            const t = translations[currentLang];
            
            // Add user message
            const userMsg = document.createElement('div');
            userMsg.className = 'flex gap-3 justify-end message-enter';
            userMsg.innerHTML = `
                <div class="flex-1 flex justify-end">
                    <div class="bg-sky-500 text-slate-900 rounded-2xl rounded-tr-md px-4 py-3 max-w-2xl font-medium">
                        ${escapeHtml(question)}
                    </div>
                </div>
                <div class="w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center flex-shrink-0">
                    <svg class="w-6 h-6 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
                </div>
            `;
            container.appendChild(userMsg);
            
            // Hide suggestions after first question
            document.getElementById('suggestions').style.display = 'none';
            
            // Add typing indicator
            const typingDiv = document.createElement('div');
            typingDiv.id = 'typing-indicator';
            typingDiv.className = 'flex gap-3 message-enter';
            typingDiv.innerHTML = `
                <div class="w-10 h-10 rounded-full bg-gradient-to-br from-sky-500 to-emerald-500 flex items-center justify-center flex-shrink-0">
                    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                </div>
                <div class="flex-1">
                    <div class="bg-slate-800 rounded-2xl rounded-tl-md px-4 py-3 max-w-2xl">
                        <div class="flex items-center gap-1">
                            <div class="w-2 h-2 bg-slate-500 rounded-full typing-dot"></div>
                            <div class="w-2 h-2 bg-slate-500 rounded-full typing-dot"></div>
                            <div class="w-2 h-2 bg-slate-500 rounded-full typing-dot"></div>
                            <span class="ml-2 text-slate-500 text-sm">${t.thinking}</span>
                        </div>
                    </div>
                </div>
            `;
            container.appendChild(typingDiv);
            container.scrollTop = container.scrollHeight;
            
            // Generate response
            setTimeout(() => {
                const typing = document.getElementById('typing-indicator');
                if (typing) typing.remove();
                
                const response = generateResponse(question.toLowerCase());
                addBotMessage(response);
            }, 1000 + Math.random() * 1000);
        }

        function generateResponse(question) {
            const t = translations[currentLang].responses;
            
            if (question.includes('install') || question.includes('setup') || question.includes('download') || question.includes('instalar') || question.includes('‡§á‡§Ç‡§∏‡•ç‡§ü‡•â‡§≤') || question.includes('t√©l√©charger')) {
                return t.install;
            }
            if (question.includes('feature') || question.includes('can do') || question.includes('caracter√≠stica') || question.includes('‡§µ‡§ø‡§∂‡•á‡§∑‡§§‡§æ') || question.includes('fonctionnalit√©')) {
                return t.features;
            }
            if (question.includes('safe') || question.includes('virus') || question.includes('security') || question.includes('secure') || question.includes('seguro') || question.includes('‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§') || question.includes('s√©curit√©')) {
                return t.safety;
            }
            if (question.includes('license') || question.includes('redistribute') || question.includes('modify') || question.includes('sell') || question.includes('commercial') || question.includes('licencia') || question.includes('‡§≤‡§æ‡§á‡§∏‡•á‡§Ç‡§∏') || question.includes('licence')) {
                return t.license;
            }
            
            return t.default;
        }

        function addBotMessage(text) {
            const container = document.getElementById('chat-container');
            
            const botMsg = document.createElement('div');
            botMsg.className = 'flex gap-3 message-enter';
            botMsg.innerHTML = `
                <div class="w-10 h-10 rounded-full bg-gradient-to-br from-sky-500 to-emerald-500 flex items-center justify-center flex-shrink-0">
                    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                </div>
                <div class="flex-1">
                    <div class="flex items-center gap-2 mb-1">
                        <span class="font-semibold text-white">Market Terminal AI</span>
                    </div>
                    <div class="bg-slate-800 rounded-2xl rounded-tl-md px-4 py-3 text-slate-200 max-w-2xl whitespace-pre-line">
                        ${formatMessage(text)}
                    </div>
                </div>
            `;
            container.appendChild(botMsg);
            container.scrollTop = container.scrollHeight;
        }

        function formatMessage(text) {
            // Convert **bold** to <strong>
            text = text.replace(/\*\*(.+?)\*\*/g, '<strong class="text-white">$1</strong>');
            // Convert `code` to <code>
            text = text.replace(/`(.+?)`/g, '<code class="bg-slate-700 px-1 rounded text-sky-400">$1</code>');
            return text;
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // Focus input on load
        document.getElementById('chat-input').focus();
    </script>
</body>
</html>